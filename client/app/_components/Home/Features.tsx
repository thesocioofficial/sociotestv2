"use client";

import React, { useEffect, useRef } from "react";
import gsap from "gsap";
import ScrollTrigger from "gsap/ScrollTrigger";

const Features = () => {
  const featuresRef = useRef<HTMLDivElement>(null);

  useEffect(() => {
    gsap.registerPlugin(ScrollTrigger);

    const items = featuresRef.current?.querySelectorAll(".feature-item") ?? [];
    items.forEach((item) => {
      item.addEventListener("mouseenter", () => {
        gsap.to(item, { scale: 1.05, duration: 0.3, ease: "power2.out" });
      });
      item.addEventListener("mouseleave", () => {
        gsap.to(item, { scale: 1, duration: 0.3, ease: "power2.out" });
      });
    });

    gsap.from(items, {
      opacity: 0,
      y: 30,
      duration: 0.8,
      stagger: 0.2,
      ease: "power3.out",
      scrollTrigger: {
        trigger: featuresRef.current,
        start: "top 80%",
      },
    });
  }, []);

  return (
    <div
      ref={featuresRef}
      className="grid grid-cols-2 sm:grid-cols-4 gap-6 sm:gap-8 p-6 sm:p-12 py-8 sm:py-14 bg-[#F6F6F6] items-center justify-center sm:justify-evenly"
    >
      <div className="feature-item flex flex-col items-center justify-center">
        <div className="bg-[#DBEAFE] p-3 sm:p-4 h-12 sm:h-16 w-12 sm:w-16 rounded-full flex justify-center items-center">
          <svg
            width="52"
            height="58"
            viewBox="0 0 52 58"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
            className="w-6 sm:w-9"
          >
            <path
              fillRule="evenodd"
              clipRule="evenodd"
              d="M14.625 5.4375C15.056 5.4375 15.4693 5.62846 15.774 5.96837C16.0788 6.30828 16.25 6.7693 16.25 7.25V10.875H35.75V7.25C35.75 6.7693 35.9212 6.30828 36.226 5.96837C36.5307 5.62846 36.944 5.4375 37.375 5.4375C37.806 5.4375 38.2193 5.62846 38.5241 5.96837C38.8288 6.30828 39 6.7693 39 7.25V10.875H40.625C42.3489 10.875 44.0022 11.6388 45.2212 12.9985C46.4402 14.3581 47.125 16.2022 47.125 18.125V45.3125C47.125 47.2353 46.4402 49.0794 45.2212 50.439C44.0022 51.7987 42.3489 52.5625 40.625 52.5625H11.375C9.65109 52.5625 7.99779 51.7987 6.77881 50.439C5.55982 49.0794 4.875 47.2353 4.875 45.3125V18.125C4.875 16.2022 5.55982 14.3581 6.77881 12.9985C7.99779 11.6388 9.65109 10.875 11.375 10.875H13V7.25C13 6.7693 13.1712 6.30828 13.476 5.96837C13.7807 5.62846 14.194 5.4375 14.625 5.4375ZM43.875 27.1875C43.875 26.2261 43.5326 25.3041 42.9231 24.6242C42.3136 23.9444 41.487 23.5625 40.625 23.5625H11.375C10.513 23.5625 9.6864 23.9444 9.0769 24.6242C8.46741 25.3041 8.125 26.2261 8.125 27.1875V45.3125C8.125 46.2739 8.46741 47.1959 9.0769 47.8758C9.6864 48.5556 10.513 48.9375 11.375 48.9375H40.625C41.487 48.9375 42.3136 48.5556 42.9231 47.8758C43.5326 47.1959 43.875 46.2739 43.875 45.3125V27.1875Z"
              fill="#154CB3"
            />
            <path
              d="M12.6829 29.3555C12.6829 28.8032 13.1306 28.3555 13.6829 28.3555H18.0244C18.5767 28.3555 19.0244 28.8032 19.0244 29.3555V33.8C19.0244 34.3523 18.5767 34.8 18.0244 34.8H13.6829C13.1306 34.8 12.6829 34.3523 12.6829 33.8V29.3555Z"
              fill="#154CB3"
            />
            <path
              d="M23.4634 29.3555C23.4634 28.8032 23.9111 28.3555 24.4634 28.3555H28.8049C29.3572 28.3555 29.8049 28.8032 29.8049 29.3555V33.8C29.8049 34.3523 29.3572 34.8 28.8049 34.8H24.4634C23.9111 34.8 23.4634 34.3523 23.4634 33.8V29.3555Z"
              fill="#154CB3"
            />
            <path
              d="M33.6098 29.3555C33.6098 28.8032 34.0575 28.3555 34.6098 28.3555H38.9512C39.5035 28.3555 39.9512 28.8032 39.9512 29.3555V33.8C39.9512 34.3523 39.5035 34.8 38.9512 34.8H34.6098C34.0575 34.8 33.6098 34.3523 33.6098 33.8V29.3555Z"
              fill="#154CB3"
            />
            <path
              d="M12.6829 38.3778C12.6829 37.8255 13.1306 37.3778 13.6829 37.3778H18.0244C18.5767 37.3778 19.0244 37.8255 19.0244 38.3778V42.8223C19.0244 43.3745 18.5767 43.8223 18.0244 43.8223H13.6829C13.1306 43.8223 12.6829 43.3745 12.6829 42.8223V38.3778Z"
              fill="#154CB3"
            />
            <path
              d="M23.4634 38.3778C23.4634 37.8255 23.9111 37.3778 24.4634 37.3778H28.8049C29.3572 37.3778 29.8049 37.8255 29.8049 38.3778V42.8223C29.8049 43.3745 29.3572 43.8223 28.8049 43.8223H24.4634C23.9111 43.8223 23.4634 43.3745 23.4634 42.8223V38.3778Z"
              fill="#154CB3"
            />
            <path
              d="M33.6098 38.3778C33.6098 37.8255 34.0575 37.3778 34.6098 37.3778H38.9512C39.5035 37.3778 39.9512 37.8255 39.9512 38.3778V42.8223C39.9512 43.3745 39.5035 43.8223 38.9512 43.8223H34.6098C34.0575 43.8223 33.6098 43.3745 33.6098 42.8223V38.3778Z"
              fill="#154CB3"
            />
          </svg>
        </div>
        <p className="mt-4 font-medium text-sm sm:text-base">Discover events</p>
      </div>
      <div className="feature-item flex flex-col items-center justify-center">
        <div className="bg-[#DBEAFE] p-3 sm:p-4 h-12 sm:h-16 w-12 sm:w-16 rounded-full flex justify-center items-center">
          <svg
            width="49"
            height="49"
            viewBox="0 0 49 49"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
            className="w-6 sm:w-9"
          >
            <path
              fillRule="evenodd"
              clipRule="evenodd"
              d="M29.839 3.25647C30.1379 3.42286 30.3725 3.68457 30.5053 3.99985C30.6382 4.31513 30.6616 4.66582 30.5719 4.99597L26.5049 19.9063H41.3437C41.6422 19.9063 41.9341 19.9935 42.1836 20.1572C42.4331 20.3209 42.6293 20.5539 42.7482 20.8276C42.8671 21.1013 42.9033 21.4038 42.8526 21.6979C42.8019 21.992 42.6663 22.2648 42.4626 22.4828L21.0251 45.4516C20.7916 45.7023 20.4808 45.8675 20.1423 45.9207C19.8039 45.9739 19.4574 45.912 19.1582 45.7451C18.8591 45.5781 18.6245 45.3156 18.4922 44.9996C18.3598 44.6836 18.3372 44.3324 18.4281 44.002L22.4951 29.0938H7.65625C7.35783 29.0937 7.06593 29.0065 6.81642 28.8428C6.5669 28.6792 6.37065 28.4461 6.2518 28.1724C6.13294 27.8987 6.09665 27.5962 6.14739 27.3021C6.19813 27.0081 6.3337 26.7352 6.53741 26.5172L27.9749 3.54843C28.2084 3.29863 28.5188 3.13416 28.8566 3.08125C29.1944 3.02834 29.5403 3.09002 29.839 3.25647Z"
              fill="#154CB3"
            />
          </svg>
        </div>
        <p className="mt-4 font-medium text-sm sm:text-base">
          Easy registrations
        </p>
      </div>
      <div className="feature-item flex flex-col items-center justify-center">
        <div className="bg-[#DBEAFE] p-3 sm:p-4 h-12 sm:h-16 w-12 sm:w-16 rounded-full flex justify-center items-center">
          <svg
            width="46"
            height="46"
            viewBox="0 0 46 46"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
            className="w-6 sm:w-9"
          >
            <path
              fillRule="evenodd"
              clipRule="evenodd"
              d="M2.875 12.2188C2.875 10.2331 4.485 8.625 6.46875 8.625H39.5312C41.515 8.625 43.125 10.235 43.125 12.2188V18.0186C43.1252 18.2711 43.0588 18.5192 42.9326 18.7379C42.8065 18.9566 42.6249 19.1382 42.4062 19.2644C41.7498 19.6424 41.2045 20.1867 40.8254 20.8425C40.4462 21.4983 40.2466 22.2425 40.2466 23C40.2466 23.7575 40.4462 24.5017 40.8254 25.1575C41.2045 25.8133 41.7498 26.3576 42.4062 26.7356C42.6249 26.8618 42.8065 27.0434 42.9326 27.2621C43.0588 27.4808 43.1252 27.7289 43.125 27.9814V33.7812C43.125 35.765 41.515 37.375 39.5312 37.375H6.46875C5.51563 37.375 4.60155 36.9964 3.92759 36.3224C3.25363 35.6485 2.875 34.7344 2.875 33.7812V27.9814C2.87465 27.7291 2.9407 27.4812 3.06653 27.2625C3.19236 27.0438 3.37353 26.8621 3.59183 26.7356C4.2483 26.3576 4.79357 25.8133 5.17271 25.1575C5.55185 24.5017 5.75148 23.7575 5.75148 23C5.75148 22.2425 5.55185 21.4983 5.17271 20.8425C4.79357 20.1867 4.2483 19.6424 3.59183 19.2644C3.37353 19.1379 3.19236 18.9562 3.06653 18.7375C2.9407 18.5188 2.87465 18.2709 2.875 18.0186V12.2188ZM31.625 10.0625C32.0063 10.0625 32.3719 10.214 32.6415 10.4835C32.9111 10.7531 33.0625 11.1188 33.0625 11.5V12.9375C33.0625 13.3187 32.9111 13.6844 32.6415 13.954C32.3719 14.2235 32.0063 14.375 31.625 14.375C31.2438 14.375 30.8781 14.2235 30.6085 13.954C30.339 13.6844 30.1875 13.3187 30.1875 12.9375V11.5C30.1875 11.1188 30.339 10.7531 30.6085 10.4835C30.8781 10.214 31.2438 10.0625 31.625 10.0625ZM33.0625 18.6875C33.0625 18.3063 32.9111 17.9406 32.6415 17.671C32.3719 17.4015 32.0063 17.25 31.625 17.25C31.2438 17.25 30.8781 17.4015 30.6085 17.671C30.339 17.9406 30.1875 18.3063 30.1875 18.6875V20.125C30.1875 20.5062 30.339 20.8719 30.6085 21.1415C30.8781 21.411 31.2438 21.5625 31.625 21.5625C32.0063 21.5625 32.3719 21.411 32.6415 21.1415C32.9111 20.8719 33.0625 20.5062 33.0625 20.125V18.6875ZM31.625 24.4375C32.0063 24.4375 32.3719 24.589 32.6415 24.8585C32.9111 25.1281 33.0625 25.4938 33.0625 25.875V27.3125C33.0625 27.6937 32.9111 28.0594 32.6415 28.329C32.3719 28.5985 32.0063 28.75 31.625 28.75C31.2438 28.75 30.8781 28.5985 30.6085 28.329C30.339 28.0594 30.1875 27.6937 30.1875 27.3125V25.875C30.1875 25.4938 30.339 25.1281 30.6085 24.8585C30.8781 24.589 31.2438 24.4375 31.625 24.4375ZM33.0625 33.0625C33.0625 32.6813 32.9111 32.3156 32.6415 32.046C32.3719 31.7764 32.0063 31.625 31.625 31.625C31.2438 31.625 30.8781 31.7764 30.6085 32.046C30.339 32.3156 30.1875 32.6813 30.1875 33.0625V34.5C30.1875 34.8812 30.339 35.2469 30.6085 35.5165C30.8781 35.7861 31.2438 35.9375 31.625 35.9375C32.0063 35.9375 32.3719 35.7861 32.6415 35.5165C32.9111 35.2469 33.0625 34.8812 33.0625 34.5V33.0625ZM11.5 23C11.5 22.6188 11.6515 22.2531 11.921 21.9835C12.1906 21.714 12.5563 21.5625 12.9375 21.5625H23C23.3813 21.5625 23.7469 21.714 24.0165 21.9835C24.2861 22.2531 24.4375 22.6188 24.4375 23C24.4375 23.3812 24.2861 23.7469 24.0165 24.0165C23.7469 24.286 23.3813 24.4375 23 24.4375H12.9375C12.5563 24.4375 12.1906 24.286 11.921 24.0165C11.6515 23.7469 11.5 23.3812 11.5 23ZM12.9375 27.3125C12.5563 27.3125 12.1906 27.464 11.921 27.7335C11.6515 28.0031 11.5 28.3688 11.5 28.75C11.5 29.1312 11.6515 29.4969 11.921 29.7665C12.1906 30.036 12.5563 30.1875 12.9375 30.1875H18.6875C19.0688 30.1875 19.4344 30.036 19.704 29.7665C19.9736 29.4969 20.125 29.1312 20.125 28.75C20.125 28.3688 19.9736 28.0031 19.704 27.7335C19.4344 27.464 19.0688 27.3125 18.6875 27.3125H12.9375Z"
              fill="#154CB3"
            />
          </svg>
        </div>
        <p className="mt-4 font-medium text-sm sm:text-base">
          Purchase tickets
        </p>
      </div>
      <div className="feature-item flex flex-col items-center justify-center">
        <div className="bg-[#DBEAFE] p-3 sm:p-4 h-12 sm:h-16 w-12 sm:w-16 rounded-full flex justify-center items-center">
          <svg
            width="44"
            height="44"
            viewBox="0 0 44 44"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
            className="w-6 sm:w-9"
          >
            <path
              d="M10.725 6.41664C10.9545 6.14313 11.0686 5.79107 11.0432 5.43494C11.0178 5.0788 10.8548 4.74651 10.5888 4.50836C10.3228 4.27021 9.97458 4.14488 9.61781 4.15886C9.26104 4.17285 8.92371 4.32506 8.67715 4.58331C6.42485 7.09543 4.93208 10.1954 4.37249 13.5226C4.32072 13.8784 4.41036 14.2403 4.6222 14.5308C4.83403 14.8213 5.15121 15.0172 5.50577 15.0767C5.86034 15.1361 6.22409 15.0544 6.51909 14.8489C6.81409 14.6434 7.01687 14.3305 7.08399 13.9773C7.55723 11.1632 8.81987 8.54125 10.725 6.41664ZM35.3228 4.58331C353228 4.44752 35.0571 4.33681 34.8941 4.25753C34.7311 4.17826 34.5541 4.13198 34.3731 4.12138C34.1922 4.11077 34.011 4.13603 33.8398 4.19572C33.6687 4.25541 33.5111 4.34834 33.376 4.46917C33.2409 4.59 33.131 4.73634 33.0527 4.89978C32.9744 5.06322 32.9291 5.24053 32.9196 5.42152C32.91 5.60251 32.9363 5.7836 32.997 5.95438C33.0577 6.12516 33.1515 6.28226 33.2732 6.41664C35.1788 8.54108 36.4421 11.163 36.916 13.9773C36.9763 14.3371 37.177 14.6582 37.4741 14.87C37.6212 14.9749 37.7875 15.0498 37.9635 15.0904C38.1395 15.131 38.3218 15.1365 38.5 15.1066C38.6781 15.0768 38.8487 15.0121 39.0019 14.9164C39.155 14.8206 39.2878 14.6956 39.3927 14.5485C39.4976 14.4014 39.5725 14.2351 39.613 14.0591C39.6536 13.8831 39.6592 13.7008 39.6293 13.5226C39.0686 10.195 37.5764 7.09505 35.3228 4.58331Z"
              fill="#154CB3"
            />
            <path
              fillRule="evenodd"
              clipRule="evenodd"
              d="M22 4.125C18.718 4.125 15.5703 5.42879 13.2496 7.74955C10.9288 10.0703 9.62501 13.2179 9.62501 16.5V17.875C9.63065 21.6135 8.24599 25.2206 5.74018 27.995C5.58969 28.1619 5.48243 28.3632 5.42776 28.5812C5.3731 28.7992 5.37271 29.0273 5.42662 29.2455C5.48054 29.4637 5.58711 29.6653 5.73702 29.8328C5.88693 30.0002 6.07559 30.1284 6.28651 30.206C9.11718 31.251 12.0798 32.021 15.1433 32.4848C15.0744 33.4274 15.2005 34.3741 15.5138 35.2658C15.8271 36.1574 16.3209 36.9749 16.9644 37.6672C17.6078 38.3594 18.3871 38.9116 19.2535 39.2892C20.1199 39.6667 21.0549 39.8616 22 39.8616C22.9451 39.8616 23.8801 39.6667 24.7465 39.2892C25.6129 38.9116 26.3922 38.3594 27.0356 37.6672C27.6791 36.9749 28.1729 36.1574 28.4862 35.2658C28.7995 34.3741 28.9257 33.4274 28.8567 32.4848C31.878 32.0268 34.845 31.2626 37.7117 30.2042C37.9223 30.1264 38.1106 29.9983 38.2603 29.831C38.4099 29.6637 38.5164 29.4623 38.5703 29.2444C38.6242 29.0264 38.6239 28.7986 38.5694 28.5809C38.515 28.3631 38.4081 28.1619 38.258 27.995C35.7529 25.2203 34.3689 21.6133 34.375 17.875V16.5C34.375 13.2179 33.0712 10.0703 30.7505 7.74955C28.4297 5.42879 25.2821 4.125 22 4.125ZM17.875 33C17.875 32.9377 17.875 32.8772 17.8787 32.8167C20.6207 33.0637 23.3793 33.0637 26.1213 32.8167L26.125 33C26.125 34.094 25.6904 35.1432 24.9168 35.9168C24.1432 36.6904 23.094 37.125 22 37.125C20.906 37.125 19.8568 36.6904 19.0832 35.9168C18.3096 35.1432 17.875 34.094 17.875 33Z"
              fill="#154CB3"
            />
          </svg>
        </div>
        <p className="mt-4 font-medium text-sm sm:text-base">Get notified</p>
      </div>
    </div>
  );
};

export default Features;
